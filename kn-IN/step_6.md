## ಉತ್ತಮ ಅಲ್ಗಾರಿತಮ್ ಅನ್ನು ಯೋಜಿಸಿ

ಹಿಂದಿನ ಅಲ್ಗಾರಿತಮ್ ಸರಿ ಇರಬಹುದು, ಅದನ್ನು ಸುಲಭವಾಗಿ ಸುಧಾರಿಸಬಹುದು. ಉತ್ತಮ ಅಲ್ಗಾರಿತಮ್ ಹೇಗಿರಬಹುದು ಎಂದು ನೋಡೋಣ!

ಲೈನ್ ಸೆನ್ಸರ್ ಲೈನ್ ಮೇಲೆ ಇದ್ದರೆ, ಅದರ output `1` ಆಗಿರುತ್ತದೆ. ಇಲ್ಲದಿದ್ದರೆ, output `0` ಆಗಿರುತ್ತದೆ.

ಮೋಟರ್‌ಗಳು ಸ್ವಲ್ಪ ವಿಭಿನ್ನವಾಗಿ ಕಾರ್ಯನಿರ್ವಹಿಸುತ್ತವೆ: ಬಲ ಮೋಟರ್ ಯಾವಾಗ `1` ಸಿಗ್ನಲ್ ಪಡೆಯುತ್ತದೆಯೋ, ಆಗ ರೋಬೋಟ್, ಮೋಟರ್ ಅನ್ನು ಮುಂದಕ್ಕೆ ಚಲಿಸುತ್ತದೆ. `-1` ಪಡೆದಾಗ, ಮೋಟರ್ ಅನ್ನು ಹಿಂದಕ್ಕೆ ಚಲಿಸುತ್ತದೆ.

ರೋಬೋಟ್‌ನ ಸ್ಥಾನ, ಲೈನ್ ಸೆನ್ಸರ್ ಗಳ ಸ್ಥಿತಿಗಳು ಮತ್ತು ಮೋಟರ್‌ಗಳಿಗೆ ಅಗತ್ಯವಾದ ಕ್ರಿಯೆಗಳನ್ನು ಗಣನೆಗೆ ತೆಗೆದುಕೊಳ್ಳುವ ಅಲ್ಗಾರಿತಮ್ ಅನ್ನು ನೋಡೋಣ.

1. ರೋಬೋಟ್ ಸಂಪೂರ್ಣವಾಗಿ ಸಾಲಿನಲ್ಲಿದೆ ಮತ್ತು ಮುಂದಕ್ಕೆ ಚಲಿಸಬೇಕು:
    
    - ಎರಡೂ ಲೈನ್ ಸೆನ್ಸರ್ ಗಳು ಸಾಲಿನಿಂದ ಹೊರಗಿವೆ ಮತ್ತು `0` output ನೀಡುತ್ತಿವೆ
    - ಎರಡೂ ಮೋಟಾರ್ ಗಳು ಮುಂದಕ್ಕೆ ಚಲಿಸಲು `1` ಸ್ವೀಕರಿಸಬೇಕು

2. ರೋಬೋಟ್ ಎಡಕ್ಕೆ ತಿರುಗಿದೆ ಮತ್ತು ಬಲಕ್ಕೆ ತಿರುಗಬೇಕಾಗಿದೆ:
    
    - ಬಲ ಸೆನ್ಸರ್ ಲೈನ್ ಮೇಲೆ ಇದೆ ಮತ್ತು `1` output ನೀಡಿತ್ತಿದೆ
    - ಎಡ ಸೆನ್ಸರ್ ಲೈನ್ ನಿಂದ ಹೊರಗಿದೆ ಮತ್ತು `0` output ನೀಡಿತ್ತಿದೆ
    - ಎಡ ಮೋಟರ್ ಹಿಂದಕ್ಕೆ ಚಲಿಸಬೇಕು. ಆದ್ದರಿಂದ `-1` ಅನ್ನು ಸ್ವೀಕರಿಸಬೇಕು
    - ಬಲ ಮೋಟರ್ ಮುಂದಕ್ಕೆ ಚಲಿಸಬೇಕು, ಆದ್ದರಿಂದ `1` ಅನ್ನು ಸ್ವೀಕರಿಸಬೇಕು

3. ರೋಬೋಟ್ ಎಡಕ್ಕೆ ತಿರುಗಿದೆ ಮತ್ತು ಬಲಕ್ಕೆ ತಿರುಗಬೇಕಾಗಿದೆ:
    
    - ಬಲ ಸೆನ್ಸರ್ ಲೈನ್ ನಿಂದ ಹೊರಗಿದೆ ಮತ್ತು `0` output ನೀಡಿತ್ತಿದೆ
    - ಎಡ ಸೆನ್ಸರ್ ಲೈನ್ ಮೇಲೆ ಇದೆ ಮತ್ತು `1` output ನೀಡಿತ್ತಿದೆ
    - ಎಡ ಮೋಟರ್ ಮುಂದಕ್ಕೆ ಚಲಿಸಬೇಕು, ಆದ್ದರಿಂದ `1` ಅನ್ನು ಸ್ವೀಕರಿಸಬೇಕು
    - ಬಲ ಮೋಟರ್ ಹಿಂದಕ್ಕೆ ಚಲಿಸಬೇಕು. ಆದ್ದರಿಂದ `-1` ಅನ್ನು ಸ್ವೀಕರಿಸಬೇಕು

Codeನಲ್ಲಿ ಇದನ್ನು ಹೇಗೆ ಮಾಡಬಹುದು? ಮೊದಲನೆಯದಾಗಿ, ಸೆನ್ಸರ್ ವ್ಯಾಲ್ಯೂ ಗಳನ್ನು ನೋಡಲು infinite loop ಅನ್ನು ರಚಿಸುತ್ತೀರಿ.

--- task ---

ಹೊಸ file ‌ನಲ್ಲಿ, ಈ ಕೆಳಗಿನ code ಸಾಲುಗಳನ್ನು ಸೇರಿಸಿ ಅದನ್ನು run ಮಾಡಿ. ನೀವು ಬೇರೆ GPIO pin ಗಳನ್ನು ಬಳಸಿದ್ದರೆ, pin ನಂಬರ್ ಗಳನ್ನು ಸರಿ ಹೊಂದಿಸಲು ಮರೆಯಬೇಡಿ.

```python
from gpiozero import Robot, LineSensor
from time import sleep

robot = Robot(left=(7, 8), right=(9, 10)) 
left_sensor = LineSensor(17)
right_sensor= LineSensor(27)

while True:
    left_detect  = int(left_sensor.value)
    right_detect = int(right_sensor.value)
    print(left_detect, right_detect)
```

ರೋಬೋಟ್ ಅನ್ನು ಲೈನ್ ಮೇಲೆ ಮುಂದಕ್ಕೆ ಹಾಗು ಹಿಂದಕ್ಕೆ ಚಲಿಸಿ ಏನಾಗುತ್ತದೆ ಎಂದು ನೋಡಿ.

--- /task ---

ಈಗ ನೀವು ಸೆನ್ಸರ್ ಗಳಿಂದ ಬೈನರಿ output ಅನ್ನು ನೋಡಬೇಕು.

![sensor_output](images/sensor_output.gif)

ಈಗ ನೀವು ಸೆನ್ಸರ್ output ಅನ್ನು ಹೊಂದಿದ್ದೀರಿ, ನೀವು ಅದನ್ನು ಮೋಟರ್‌ಗಳಿಗೆ ಕಳುಹಿಸುವ ಮೊದಲು ಅದನ್ನು ಸ್ವಲ್ಪ ಬದಲಾಯಿಸಬೇಕಾಗಿದೆ. ಮೇಲಿನ ಅಲ್ಗಾರಿತಮ್ ಪ್ರಕಾರ:

- ಎರಡೂ ಸೆನ್ಸರ್ ಗಳ output `0` ಆಗಿದ್ದರೆ, ಎರಡೂ ಮೋಟಾರ್ ಗಳು `1` ಅನ್ನು ಸ್ವೀಕರಿಸಬೇಕು
- ಬಲ ಸೆನ್ಸರ್ ನ output `1` ಆಗಿದ್ದರೆ, ಎಡ ಸೆನ್ಸರ್ `-1` ಅನ್ನು ಸ್ವೀಕರಿಸಬೇಕು
- ಎಡ ಸೆನ್ಸರ್ ನ output `1` ಆಗಿದ್ದರೆ, ಬಲ ಸೆನ್ಸರ್ `-1` ಅನ್ನು ಸ್ವೀಕರಿಸಬೇಕು

--- task ---

`while True` loop ಒಳಗೆ, `left_mot` ಮತ್ತು `right_mot` ಎಂಬ ಎರಡು ವೇರಿಯೇಬಲ್ಸ್ ಗಳನ್ನು ರಚಿಸಿ. ಈ ವೇರಿಯೇಬಲ್ಸ್ ಗಳು, ಮೋಟರ್ ಸ್ವೀಕರಿಸಲು ನೀವು ಬಯಸುವ ಅದೇ ವ್ಯಾಲ್ಯೂ ಗಳನ್ನು ಹೊಂದಿರಬೇಕು. Loop ಒಳಗಿರುವ ವ್ಯಾಲ್ಯೂ ಗಳನ್ನು ಮುದ್ರಿಸಬಹುದು.

--- /task ---

--- hints ---
 --- hint ---

ಮೇಲಿನ ಅಲ್ಗಾರಿತಮ್ ಪ್ರಕಾರ, `if left_detect == 0 and right_detect == 0:`, `left_mot` ಮತ್ತು `right_mot` ವ್ಯಾಲ್ಯೂ ಗಳು ನಿಮಗೆ ಏನು ಬೇಕು?

--- /hint --- --- hint ---

ಮೊದಲ ಕಂಡೀಶನ್ ನ code ಇಲ್ಲಿದೆ:

    ```python
    while True:
        left_detect  = int(left_sensor.value)
        right_detect = int(right_sensor.value)
    ```

ಒಂದು ಲೈನ್ ಇಂದ ಟ್ರಿಗರ್ ಆಗುವ ಸೆನ್ಸರ್ ಗಳನ್ನು ನಿರ್ವಹಿಸಲು, ನಿಮಗೆ ಇನ್ನೂ ಎರಡು `if` ಸ್ಟೇಟ್ಮೆಂಟ್ ಗಳು ಬೇಕು.

--- /hint --- --- hint ---

ಪ್ರಿಂಟ್ ಹೇಳಿಕೆಗಳೊಂದಿಗೆ ಪೂರ್ಣಗೊಂಡ ಕೋಡ್ ಇಲ್ಲಿದೆ:

```python 
while True: left_detect = int(left_sensor.value) right_detect = int(right_sensor.value)
    if left_detect == 0 and right_detect == 0:
        left_mot = 1
        right_mot = 1
    
    if left_detect == 0 and right_detect == 1:
        left_mot = -1
    if left_detect == 1 and right_detect == 0:
        right_mot = -1
    
    print(right_mot, left_mot)
    

```

--- /hint ------ /hints ---

--- task ---

ನೀವು ಪೂರ್ಣಗೊಳಿಸಿದಾಗ, ನಿಮ್ಮ code ಅನ್ನು run ಮಾಡಿ ಮತ್ತು ರೋಬೋಟ್ ಲೈನ್ ಮೇಲೆ ಚಲಿಸುವಾಗ ಅದು ಹೇಗೆ ಕಾರ್ಯನಿರ್ವಹಿಸುತ್ತದೆ ಎಂಬುದನ್ನು ಪರೀಕ್ಷಿಸಿ.

![sensor_output2.gif](images/sensor_output2.gif)

--- /task ---