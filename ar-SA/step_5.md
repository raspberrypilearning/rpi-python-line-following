## برمجة خوارزمية تتبع الخط

**ملاحظة:** في هذا المثال، لوحة تحكم المحركات متصلة بحيث يكون المحرك الأيسر على دبابيس **GPIO 7** و **GPIO 8**، والمحرك الأيمن على دبابيس **GPIO 9** و **GPIO 10**. حساس الخط الأيسر على **GPIO 17** pin، وحساس الخط الأيمن على **GPIO 27** pin.

\--- task \---

افتح **mu** من قائمة **programming ** لل Raspberry Pi، وابدأ بإعداد لوحة تحكم المحرك وأجهزة التحسس الخاصة بك باستخدام `gpiozero`:

```python
from gpiozero import Robot, LineSensor
from signal import pause
from time import sleep

robot = Robot(left=(7, 8), right=(9, 10)) 
left_sensor = LineSensor(17)
right_sensor= LineSensor(27)
```

\--- /task \---

لنبدأ بكتابة خوارزمية بسيطه حقاً لتتبع الخط ، فقط لاختبار أن الروبوت الخاص بك يعمل.

يمكن لوحدة `gpiozero` استدعاء دالة اعتماداً على ما إذا كان قد تم اكتشاف خط أم لا. مثال:

```python
left_sensor.when_line = function_name_to_call
left_sensor.when_no_line = other_function_name_to_call
```

هذه الخوارزميه ستخبر الروبوت بعمل شيء عندما يكتشف `الحساس الأيسر` أنه ليس فوق سطر. من خلال إخبار الروبوت بالمضي قدمًا في حالة عدم اكتشاف أي خط ، ولكن بالأستدارة إذا تم اكتشاف خط ، يمكنك إنتاج سلوك تتبع خط أساسي للغاية.

\--- task \---

أضف أربعة أسطر برمجية إلى برنامج الروبوت الخاص بك لإنتاج خوارزمية تتبع خط أساسية.

\--- /task \---

\--- hints \--- \--- hint \---

الأسطر البرمجية يجب أن تنفذ المهام التالية:

1. إذا كان هنالك خط أسفل الحساس الأيسر ، أستدر يسارًا
2. إذا كان هنالك خط أسفل الحساس الأيمن ، أستدر يميناً
3. إذا لم يكن هنالك خط أسفل الحساس الأيمن ، قم بالقيادة للأمام
4. إذا لم يكن هنالك خط أسفل الحساس الأيسر ، قم بالقيادة للأمام

\--- /hint \--- \--- hint \---

الصيغة المستخدمة في برنامج المثال هي كما يلي بالنسبة للسطر الأول:

```python
left_sensor.when_line = robot.left
```

الآن حاول إكمال الأسطر الثلاثة المتبقية.

\--- /hint \--- \--- hint \---

فيما يلي الأسطر البرمجية الأربعة التي تحتاجها. إذا كنت تقوم بتشغيل الأسطر البرمجية الخاصة بك من المحطة الطرفية، فستحتاج أيضاً إلى إضافة `()pause` في النهاية.

```python
left_sensor.when_line = robot.left
right_sensor.when_line = robot.right
left_sensor.when_no_line = robot.forward
right_sensor.when_no_line = robot.forward

pause()
```

\--- /hint \--- \--- /hints \---

لا تقلق إذا خرج الروبوت الخاص بك خارج خطه قليلاً. فقط لاحظ إذا ما كان يحاول البقاء على الخط. هنا مثال لروبوت يعمل على مسار أساسي مع هذه الخوارزمية.

![نهائي](images/final.gif)